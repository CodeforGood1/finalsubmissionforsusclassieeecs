# ============================================================
# SUSTAINABLE CLASSROOM LMS - ON-PREMISE CONFIGURATION
# ============================================================
# Africa Sustainable Classroom Challenge - Finals
# On-Premise / Offline Deployment
# ============================================================
# Copy this file to .env and configure for your local setup
# ============================================================

# --- SERVER CONFIGURATION ---
PORT=5000
NODE_ENV=production

# --- DATABASE (LOCAL POSTGRESQL) ---
# For local PostgreSQL (no cloud, no SSL required)
DATABASE_URL=postgresql://postgres:your_password@localhost:5432/sustainable_classroom

# SSL for database (set to 'true' only if using remote/cloud PostgreSQL)
DB_SSL=false

# --- ADMIN CREDENTIALS ---
ADMIN_EMAIL=admin@classroom.local
ADMIN_PASSWORD=Admin@2026

# --- JWT SECRET ---
# Generate a strong random secret for production
# Example: openssl rand -hex 32
JWT_SECRET=your_very_secure_jwt_secret_key_change_this_in_production

# ============================================================
# LOCAL FILE STORAGE (ON-PREMISE)
# ============================================================
# Directory for uploaded files (images, videos, documents)
UPLOAD_DIR=./uploads

# Maximum file size in bytes (500MB default)
MAX_FILE_SIZE=524288000

# ============================================================
# LOCAL EMAIL CONFIGURATION (ON-PREMISE)
# ============================================================
# For development: Use MailHog (captures all emails locally)
# For production: Use local SMTP server (Postfix, etc.)

# Development with MailHog (Docker container):
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_IGNORE_TLS=true

# Production with Gmail SMTP (requires Google App Password):
# Uncomment these lines to use Gmail:
# EMAIL_SERVICE=gmail
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-google-app-password
#
# To get Google App Password:
# 1. Go to https://myaccount.google.com/security
# 2. Enable 2-Step Verification
# 3. Go to https://myaccount.google.com/apppasswords
# 4. Generate password for "Mail" > "Other (Custom name)"
# 5. Copy the 16-character password (no spaces)

# Email sender information
EMAIL_FROM_NAME=Sustainable Classroom
EMAIL_FROM_ADDRESS=noreply@classroom.local

# Development mode - set to 'true' to log emails instead of sending
EMAIL_DEV_MODE=false

# ============================================================
# FRONTEND URL (FOR EMAIL LINKS)
# ============================================================
# Use local network address for on-premise deployment
FRONTEND_URL=http://classroom.local

# ============================================================
# VIDEO CONFERENCING (OPTIONAL - SELF-HOSTED JITSI)
# ============================================================
# If using self-hosted Jitsi Meet:
JITSI_SERVER_URL=http://meet.classroom.local:8000

# ============================================================
# REDIS CACHE (OPTIONAL - FOR PERFORMANCE)
# ============================================================
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379

# ============================================================
# SECURITY SETTINGS
# ============================================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session timeout (in hours)
SESSION_TIMEOUT_HOURS=24

# ============================================================
# BACKUP CONFIGURATION
# ============================================================
BACKUP_ENABLED=true
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=30

# ============================================================
# LOGGING
# ============================================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log
