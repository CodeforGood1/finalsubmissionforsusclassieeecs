# ============================================================
# SUSTAINABLE CLASSROOM LMS - ON-PREMISE CONFIGURATION
# ============================================================
# Africa Sustainable Classroom Challenge - Finals
# On-Premise / Offline Deployment
# ============================================================
# Copy this file to .env and configure for your local setup
# ============================================================

# --- SERVER CONFIGURATION ---
PORT=5000
NODE_ENV=production

# --- DATABASE (LOCAL POSTGRESQL) ---
# For local PostgreSQL (no cloud, no SSL required)
DATABASE_URL=postgresql://postgres:your_password@localhost:5432/sustainable_classroom

# SSL for database (set to 'true' only if using remote/cloud PostgreSQL)
DB_SSL=false

# --- ADMIN CREDENTIALS ---
ADMIN_EMAIL=admin@classroom.local
ADMIN_PASSWORD=Admin@SecurePass123

# --- JWT SECRET ---
# Generate a strong random secret for production
# Example: openssl rand -hex 32
JWT_SECRET=your_very_secure_jwt_secret_key_change_this_in_production

# ============================================================
# LOCAL FILE STORAGE (ON-PREMISE)
# ============================================================
# Directory for uploaded files (images, videos, documents)
UPLOAD_DIR=./uploads

# Maximum file size in bytes (500MB default)
MAX_FILE_SIZE=524288000

# ============================================================
# LOCAL EMAIL CONFIGURATION (ON-PREMISE)
# ============================================================
# For development: Use MailHog (captures all emails locally)
# For production: Use local SMTP server (Postfix, etc.)

# Development with MailHog (Docker container):
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_IGNORE_TLS=true

# Email sender information
EMAIL_FROM_NAME=Sustainable Classroom
EMAIL_FROM_ADDRESS=noreply@classroom.local

# Development mode - set to 'true' to log emails instead of sending
EMAIL_DEV_MODE=false

# ============================================================
# FRONTEND URL (FOR EMAIL LINKS)
# ============================================================
# Use local network address for on-premise deployment
FRONTEND_URL=http://classroom.local

# ============================================================
# VIDEO CONFERENCING (OPTIONAL - SELF-HOSTED JITSI)
# ============================================================
# If using self-hosted Jitsi Meet:
JITSI_SERVER_URL=http://meet.classroom.local:8000

# ============================================================
# REDIS CACHE (OPTIONAL - FOR PERFORMANCE)
# ============================================================
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379

# ============================================================
# SECURITY SETTINGS
# ============================================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session timeout (in hours)
SESSION_TIMEOUT_HOURS=24

# ============================================================
# BACKUP CONFIGURATION
# ============================================================
BACKUP_ENABLED=true
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=30

# ============================================================
# LOGGING
# ============================================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log
